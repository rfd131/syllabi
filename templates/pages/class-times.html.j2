{% extends "base.html.j2" %}

{% block subtitle %}Class Times and Locations{% endblock %}

{% block extra_styles %}
<style>
    main h2 {
        color: var(--penn-state-navy);
        font-size: 1.8rem;
        margin-top: 2rem;
        margin-bottom: 1rem;
        padding-bottom: 0.5rem;
        border-bottom: 3px solid var(--penn-state-blue);
    }

    /* Section Tables */
    .section-table {
        width: 100%;
        background-color: var(--white);
        border-radius: 8px;
        overflow: hidden;
        margin: 1.5rem 0;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .section-table table {
        width: 100%;
        border-collapse: collapse;
    }

    .section-table th {
        background-color: var(--penn-state-navy);
        color: var(--white);
        padding: 1rem;
        text-align: left;
        font-weight: 600;
    }

    .section-table td {
        padding: 0.875rem 1rem;
        border-bottom: 1px solid #eee;
    }

    .section-table tr:last-child td {
        border-bottom: none;
    }

    .section-table tr:hover {
        background-color: var(--light-gray);
    }

    .section-number {
        font-weight: bold;
        color: var(--penn-state-navy);
    }

    .instructor-link {
        color: var(--penn-state-blue);
        text-decoration: none;
        font-weight: 500;
    }

    .instructor-link:hover {
        text-decoration: underline;
    }

    .alert {
        background-color: var(--warning-yellow);
        border-left: 4px solid var(--warning-border);
        padding: 1rem;
        margin: 1rem 0;
        border-radius: 4px;
    }

    /* Thursday Quiz Hours */
    .thursday-hours-box {
        background-color: #F0F8FF;
        border: 2px solid var(--penn-state-light-blue, #96BEE6);
        border-radius: 8px;
        padding: 1.5rem;
        margin: 1.5rem 0;
    }

    .hours-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin: 1rem 0;
    }

    .hour-slot {
        background-color: var(--white);
        padding: 1rem;
        border-radius: 4px;
        text-align: center;
        border: 1px solid #ddd;
    }

    .hour-time {
        font-weight: bold;
        color: var(--penn-state-navy);
        margin-bottom: 0.5rem;
    }

    .hour-location {
        color: #333;
    }

    .hours-note {
        margin-top: 1.25rem;
        margin-bottom: 0.5rem;
        padding: 0.75rem;
        background-color: var(--warning-yellow);
        border-radius: 4px;
        font-size: 0.9rem;
    }

    @media (max-width: 768px) {
        .section-table {
            overflow-x: auto;
        }

        .section-table table {
            min-width: 500px;
        }
    }
</style>
{% endblock %}

{% block content %}
<h2 id="mwf-classes">Monday, Wednesday, Friday Classes</h2>

<p>Classes meet three times per week for 50-minute sessions. Classes include interactive lectures, group problem-solving, and collaborative activities.</p>

{# Collect all sections from all groups and sort by section number #}
{% set all_sections = [] %}
{% for group in mwf_sections %}
    {% for section in group.sections %}
        {% set _ = all_sections.append(section) %}
    {% endfor %}
{% endfor %}

<div class="section-table">
    <table>
        <thead>
            <tr>
                <th>Section</th>
                <th>Time</th>
                <th>Location</th>
                <th>Instructor</th>
            </tr>
        </thead>
        <tbody>
            {% for section in all_sections|sort(attribute='number') %}
            <tr>
                <td class="section-number">Section {{ section.number }}</td>
                <td>{{ section.time }}</td>
                <td>{{ section.location }}</td>
                <td><a href="instructors.html#{{ section.instructor_id }}" class="instructor-link">{{ section.instructor }}</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<h2 id="tuesday-recitations">Tuesday Recitations - Learning Target Quiz Sessions</h2>

<div class="alert">
    <strong>Important:</strong> Tuesday sessions are REQUIRED and are dedicated to Learning Target Quizzes. You must register for a specific Tuesday recitation section that may be held at a different time than your MWF class section.
</div>

<p>Each Tuesday session is a 1 hour assessment period where you will take Learning Target Quizzes. These are low-stakes assessments with multiple opportunities to demonstrate proficiency throughout the semester.</p>

<div class="section-table">
    <table>
        <thead>
            <tr>
                <th>Section</th>
                <th>Time</th>
                <th>Location</th>
            </tr>
        </thead>
        <tbody>
            {% for section in tuesday_sections %}
            <tr>
                <td class="section-number">Section {{ section.identifier }}</td>
                <td>{{ section.time }}</td>
                <td>{{ section.location }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% if policies.thursday_quiz_hours %}
<h2 id="thursday-quiz-hours">Thursday Quiz Hours</h2>

<p>Thursday Quiz Hours are additional sessions available for Learning Targets that you have not yet been successful in during a Tuesday or midterm exam session. <strong>Thursday Quiz Hours begin in Week 4.</strong> Learning Targets become available in quiz hours after they have been available at least twice in either a Tuesday session or on a Midterm Exam. LTs remain available during Thursday quiz hours for the rest of the semester according to a schedule.</p>

<div class="thursday-hours-box">
    <div class="hours-grid">
        {% for hour in policies.thursday_quiz_hours %}
        <div class="hour-slot">
            <div class="hour-time">{{ hour.time }}</div>
            <div class="hour-location">{{ hour.location }}</div>
        </div>
        {% endfor %}
    </div>

    <p class="hours-note"><strong>Note:</strong> It is not required that you attend Thursday Quiz Hours, but most students will use quiz hours at least a few times during the semester and you should plan space in your schedule.</p>

    <p class="hours-note"><strong>Note:</strong> Sign up for Quiz Hours through the same quiz sign up form you use for Tuesday sessions.</p>
</div>
{% endif %}
{% endblock %}
